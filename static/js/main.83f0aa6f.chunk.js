(this["webpackJsonpclass-26-solution"]=this["webpackJsonpclass-26-solution"]||[]).push([[0],{151:function(e,t,a){},152:function(e,t,a){},154:function(e,t,a){},155:function(e,t,a){},306:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a.n(c),n=a(33),s=a.n(n),l=a(18),o=a(16),j=(a(151),a(314)),i=(a(152),a(3));function u(){return Object(i.jsx)("header",{children:Object(i.jsx)("h1",{children:"RESTy"})})}a(154);function d(){return Object(i.jsx)("footer",{children:"\xa9 2018"})}var b=a(145);a(155),a(91);function O(e){e.handleApiCall;var t=e.dispatcha,a=e.selectedUrl,c=r.a.useState("get"),n=Object(o.a)(c,2),s=n[0],l=n[1],j=r.a.useState({}),u=Object(o.a)(j,2),d=u[0],O=u[1],h=r.a.useState(""),p=Object(o.a)(h,2),x=p[0],f=p[1];return r.a.useEffect((function(){f(a)}),[a]),Object(i.jsx)(i.Fragment,{children:Object(i.jsxs)("form",{onSubmit:function(e){e.preventDefault();var a={url:e.target.url.value||"https://pokeapi.co/api/v2/pokemon",json:e.target.JSON.value?JSON.parse(e.target.JSON.value):{},method:s};O(a),t({type:"submit",payload:d});var c=JSON.parse(localStorage.getItem("history"))||[];localStorage.setItem("history",JSON.stringify([d].concat(Object(b.a)(c)))),t({type:"localStorage",payload:JSON.parse(localStorage.getItem("history"))})},children:[Object(i.jsxs)("label",{children:[Object(i.jsx)("span",{children:"URL: "}),Object(i.jsx)("input",{name:"url",type:"text",onChange:function(e){return f(e.target.value)},value:x}),Object(i.jsx)("button",{type:"submit",children:"GO!"})]}),Object(i.jsxs)("label",{className:"methods",children:[Object(i.jsx)("span",{onClick:function(){return l("get")},id:"get",children:"GET"}),Object(i.jsx)("span",{onClick:function(){return l("post")},id:"post",children:"POST"}),Object(i.jsx)("span",{onClick:function(){return l("put")},id:"put",children:"PUT"}),Object(i.jsx)("span",{onClick:function(){return l("delete")},id:"delete",children:"DELETE"})]}),Object(i.jsx)("label",{htmlFor:"w3review",children:"JSON"}),Object(i.jsx)("textarea",{id:"w3review",name:"JSON",rows:"4",cols:"50"})]})})}var h=a(138),p=a.n(h);function x(e){return Object(i.jsx)("section",{children:Object(i.jsx)(p.a,{src:e})})}var f=a(139),m=a.n(f),g=a(313),y=a(38),v=function(e){switch(e){case"get":return"green";case"post":return"blue";case"put":return"orange";case"delete":return"red";default:return"violet"}};function S(e){var t=e.locassssslStorage,a=e.selectUrl,r=Object(c.useState)(!1),n=Object(o.a)(r,2),s=n[0],l=n[1];return Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(y.a,{onClick:function(){return l(!0)},size:"sm",appearance:"primary",children:"Show Recently viewed API's"}),Object(i.jsxs)(g.a,{size:"lg",placement:"top",open:s,onClose:function(){return l(!1)},children:[Object(i.jsxs)(g.a.Header,{children:[Object(i.jsx)(g.a.Title,{children:"Recently viewed"}),Object(i.jsx)(g.a.Actions,{children:Object(i.jsx)(y.a,{onClick:function(){return l(!1)},children:"Cancel"})})]}),Object(i.jsx)(g.a.Body,{children:t?t.map((function(e,t){return Object(i.jsxs)("div",{children:[Object(i.jsx)(y.a,{color:v(e.method),appearance:"primary",onClick:function(){a({type:"selectedUrl",payload:e.url}),l(!1)},children:e.url}),Object(i.jsx)("br",{})]},t)})):null})]})]})}function w(){var e=Object(c.useState)(!1),t=Object(o.a)(e,2),a=(t[0],t[1]),n={requestParams:{},data:null,ls:JSON.parse(localStorage.getItem("history"))||[],selectedUrl:""},s=Object(c.useReducer)((function(e,t){switch(t.type){case"submit":return Object(l.a)(Object(l.a)({},e),{},{requestParams:t.payload});case"data":return Object(l.a)(Object(l.a)({},e),{},{data:t.payload});case"localStorage":return Object(l.a)(Object(l.a)({},e),{},{ls:t.payload});case"selectedUrl":return Object(l.a)(Object(l.a)({},e),{},{selectedUrl:t.payload});default:return e}}),n),b=Object(o.a)(s,2),h=b[0],p=b[1],f=function(e){var t={};m.a[e.method](e.url,e.json).then((function(e){var a={count:(t={count:e.data.count||e.data.length,Headers:e.headers,body:e.data}).count,results:t};p({type:"data",payload:a})}))};return Object(c.useEffect)((function(){h.requestParams.url&&f(h.requestParams)}),[h.requestParams]),Object(i.jsxs)(r.a.Fragment,{children:[Object(i.jsx)(u,{}),Object(i.jsxs)("div",{"data-testid":"method",children:["Request Method: ",h.requestParams.method]}),Object(i.jsxs)("div",{children:["URL: ",h.requestParams.url]}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)(S,{locassssslStorage:h.ls,selectUrl:p,setOpen:a}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),Object(i.jsx)(O,{handleApiCall:f,dispatcha:p,selectedUrl:h.selectedUrl}),Object(i.jsx)("br",{}),Object(i.jsx)("br",{}),h.data?Object(i.jsx)(x,{data:h.data}):Object(i.jsx)(j.a,{size:"lg",content:"Loading..."}),Object(i.jsx)(d,{})]})}var C=document.getElementById("root");s.a.render(Object(i.jsx)(w,{}),C)}},[[306,1,2]]]);
//# sourceMappingURL=main.83f0aa6f.chunk.js.map